---
title: "616Project2"
author: "Riley Feltner and Rj Menter"
date: "2023-10-03"
output: html_document
---

![](poster%20Value%20proposition%20canvas%20simple%20white.png)

\-\--

Group 10 Analytics Class Project

Our client, Kirk Bogard, is seeking relevant data on the job market and salary trends to better guide the farmer school of business. The question we are answering for Kirk is: What are the macro placement and salary trends we are seeing over the past three years? Our information will aid in providing companies with relevant information on why they should recruit from FSB as well as targeting companies that are good fits for students. The information provided will help students in understanding the current job market and how they can get placed with a company.

We will perform a linear regression analysis on the data to better understand the relationship between placement and salary trends for FSB overall and by major over time.

\-\--

\-\--

This first section sets up our knit, our dataframe, and identifies null rows in our data set. We made a secondary dataframe called null rows that can be used for comparison.

\-\--

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
fsb_data <- readRDS("FSB_BI_Survey_2019_2021.rds")
```

```{r}
# Find and print rows with null values in any column
null_rows <- fsb_data[!complete.cases(fsb_data), ]
```

```{r}
sum_of_na_by_variable <- colSums(is.na(fsb_data), na.rm = TRUE)
print(sum_of_na_by_variable)
```

\-\--

Here is the beginning of our data cleaning analysis, we began by looking at the data dictionary and identified Survey Offers as a variable that should be changed to a numeric variable, and needed to have its values tweaked because the survey responses made the variable hard to analyze otherwise.

\-\--

```{r}
# We identified Survey Offers as a variable that should be changed to numeric, from a categorical type. The following code shows
# how we identified the unique values that we wanted to change as well as how we resolved non-responses as 0 job offers for that survey response.
unique(fsb_data$survey_offers)
```

```{r}
# Define a mapping function to change values to NA or a number
map_survey_offers <- function(value) {
  if (is.na(value) || tolower(value) == "na" || value == "multiple" || grepl("\\+", value)) {
    return(NA)
  } else {
    numeric_value <- as.numeric(value)
    if (numeric_value >= 0 && numeric_value <= 10) {
      return(numeric_value)
    } else {
      return(NA)
    }
  }
}

# Apply the mapping function to the survey_offers variable
fsb_data$survey_offers <- sapply(fsb_data$survey_offers, map_survey_offers)

#Replace NA values with 0 in survey_offers
fsb_data$survey_offers[is.na(fsb_data$survey_offers)] <- 0

```

\-\--

To further reduce our dataset we created two dummy variables: has_internship and has_multiple_internships. We then removed the survey_internships, survey_internone, survey_interntwo, survey_internthree, survey_internfour as they are now adding too much complexity to our potential model and are unneeded with the new variables that we have created to represent them.

\-\--

```{r}
# Create a new dummy variable indicating internship presence
fsb_data$has_internship <- ifelse(is.na(fsb_data$survey_internships) | fsb_data$survey_internships == "0" | fsb_data$survey_internships == "N/A" | fsb_data$survey_internships == "RPT", 0, 1)

# Create a new dummy variable indicating multiple internships presence
fsb_data$has_multiple_internships <- ifelse(is.na(fsb_data$survey_internships) | fsb_data$survey_internships == "0" | fsb_data$survey_internships == "1" | fsb_data$survey_internships == "N/A" | fsb_data$survey_internships == "RPT", 0, 1)

# Remove the original survey_internships variable because we no longer need it, we have the data from it reflected in two dummy variables.
variables_to_drop <- c("survey_internships", "survey_internone", "survey_interntwo", "survey_internthree", "survey_internfour")
fsb_data <- fsb_data[, !(names(fsb_data) %in% variables_to_drop)]

```

\-\--

We replaced any of the empty categorical variables from the survey with the text "None" to indicate that the student did not answer.

\-\--

```{r}
# Imputing categorical Variables with 'None' for missing variables.
fsb_data$survey_deptfunc <- ifelse(is.na(fsb_data$survey_deptfunc), "None", fsb_data$survey_deptfunc)
fsb_data$survey_plans <- ifelse(is.na(fsb_data$survey_plans), "None", fsb_data$survey_plans)
fsb_data$survey_pref_loc <- ifelse(is.na(fsb_data$survey_pref_loc), "None", fsb_data$survey_pref_loc)
fsb_data$survey_pref_field <- ifelse(is.na(fsb_data$survey_pref_field), "None", fsb_data$survey_pref_field)

fsb_data$survey_city <- ifelse(is.na(fsb_data$survey_city), "None", fsb_data$survey_city)
fsb_data$survey_company <- ifelse(is.na(fsb_data$survey_company), "None", fsb_data$survey_company)
fsb_data$survey_gradprogram <- ifelse(is.na(fsb_data$survey_gradprogram), "None", fsb_data$survey_gradprogram)
fsb_data$survey_gradschool <- ifelse(is.na(fsb_data$survey_gradschool), "None", fsb_data$survey_gradschool)
fsb_data$survey_state <- ifelse(is.na(fsb_data$survey_state), "None", fsb_data$survey_state)

```

\-\--

We are making the educated assumption that those who did not report a salary likely did not have a job. Thus, we are imputing the null values with 0 for the numeric field survey_salary.

\-\--

```{r}
# Observe unique values, and impute null to 0.
unique(fsb_data$survey_salary)

fsb_data$survey_salary[is.na(fsb_data$survey_salary)] <- 0

```

\-\--

We ran the same code that identified our nulls from before, and found that we no longer had any - and had reduced the complexity of the model by removing some unnecessary variables.

\-\--

```{r}
sum_of_na_by_variable <- colSums(is.na(fsb_data), na.rm = TRUE)
print(sum_of_na_by_variable)
```

\-\--

Computing Environment - Everything was completed from an R-Project with a working directory set around it. Attached will be a zip folder that contains everything needed to reproduce the work seen here.

\-\--
